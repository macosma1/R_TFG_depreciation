"0","#----------------------------------------------------------------filtro datos segun una condicion y almaceno valores en listas-------------------------------------------------------------------------------"
"0","#agrupo por paises sin hacer filtro"
"0","  df_brand <- data_no_outlier_Mad %>% group_by(brand) %>% "
"0","   summarise( n=n(), mean_year = mean(year), mean_years= mean(years), mean_price = ceiling(mean(km)), median_price=median(km), variance_price = var(km), sd_price = sd(km)) %>% arrange(n)"
"0","  df_country <- data_no_outlier_Mad %>% group_by(country) %>% "
"0","   summarise( n=n(), mean_year = ceiling(mean(year)), mean_years= ceiling(mean(years)), mean_price = ceiling(mean(km)), median_price=median(km), variance_price = var(km), sd_price = sd(km)) %>% arrange(n)"
"0",""
"0","#calculo las variables, elimina aquellas que no cumplan condiciones propuestas, como el no tener mas de dos valores por marca, por pais, "
"0","  # uno agrupa por paises y otro por marcas y dice cuanto hay por cada uno, ademas saca la media de km y la suma total"
"0","  df_country <- data_no_outlier_Mad %>% group_by(country) %>% "
"0","   summarise( n=n(), mean_year = ceiling(mean(year)), mean_years= ceiling(mean(years)), mean_price = ceiling(mean(km)), median_price=median(km), variance_price = var(km), sd_price = sd(km)) %>% "
"0","   filter(n>2) %>% arrange(n)"
"0","  df_brand <- data_no_outlier_Mad %>% group_by(brand) %>% "
"0","   summarise( n=n(), mean_year = mean(year), mean_years= mean(years), mean_price = ceiling(mean(km)), median_price=median(km), variance_price = var(km), sd_price = sd(km)) %>% filter(n>2) %>% arrange(n)"
"0",""
"0","#agrupa en un vector aquellos paises que tengan mas de dos cabezas tractoras y agrupa en un vector aquellas marcas que tengan mas de dos cabezas tractoras"
"0","  countries <- as.vector(data.frame(t(df_country[,1])))"
"0","  brands <- as.vector(data.frame(t(df_brand[,1])))"
"0",""
"0","#en data_no_outlier_Mad solo mantendremos los valores que cumplan las dos condiciones anteriormente planteadas... y veo las diferencia de como cambian las dimensiones"
"0","  #dim(data_no_outlier_Mad) # 4188 10"
"0","  #data_no_outlier_Mad <- filter(data_no_outlier_Mad, country %in% countries [[1]], brand %in% brands [[1]])  #vector no es transpuesto"
"0","  data_no_outlier_Mad <- filter(data_no_outlier_Mad, country %in% t(countries), brand %in% t(brands))  #vector transpuesto"
"0","  #dim(data_no_outlier_Mad) # 4173 10"
"0",""
"0","#summary as a dataframe of power, country, years and brand"
"0","  resume07<- rbind(describe(data_no_outlier_Mad$power), describe(data_no_outlier_Mad$price), describe(data_no_outlier_Mad$km), describe(data_no_outlier_Mad$years)) "
"0","  rownames(resume07) <- c(""Power"", ""Price"", ""Km"", ""Year"" )"
"0","  "
"0",""
"0","#separo en una lista segun power, country, years y brand"
"0","  list_power <- split(data_no_outlier_Mad, data_no_outlier_Mad$power)"
"0","  list_country <- split(data_no_outlier_Mad, data_no_outlier_Mad$country) "
"0","  list_years <- split(data_no_outlier_Mad, data_no_outlier_Mad$years) "
"0","  list_brand <- split(data_no_outlier_Mad, data_no_outlier_Mad$brand)"
"0",""
"0",""
"0","#del cuadro que esta, para el analisis, sacamos un resumen de cada variable y la almaceno en la lista_resumen:"
"0","  df_year <- data_no_outlier_Mad %>% group_by(years) %>% summarise( n=n(), mean_price = ceiling(mean(price)))"
"0","  yearss = df_year[,1:2]"
"0","  brands = df_brand[,1:2]"
"0","  countries = df_country[,1:2]"
"0","  years.categories <- data_no_outlier_Mad %>% group_by(years.category) %>% summarise( n=n()) %>% arrange(n)"
"0","  lista_resumen <- list(yearss, brands, countries, years.categories) #accedo a este lista_resumen[[2]]"
"0","#----------------------------------------------------------------    "
